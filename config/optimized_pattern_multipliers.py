#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
最適化されたパターン倍率

200レースの実績データに基づいて最適化された倍率
- 高的中率パターン: 倍率アップ
- 低的中率パターン: 倍率ダウンまたは削除
"""

# 最適化された倍率マップ
OPTIMIZED_MULTIPLIERS = {
    # 1着パターン
    'pre1_st1': 1.411,        # 現状維持（データ不足）
    'pre1_ex1': 1.350,        # 1.286 → 1.350 (+5.0%) [65.1%的中率、最優秀]
    'pre1_ex1_3_st1_3': 1.328,  # 現状維持（52.6%、適切）
    'pre1_st1_3': 1.310,      # 現状維持（52.4%、適切）

    # 2着パターン（データ不足のため現状維持）
    'pre2_3_ex1_2': 1.084,
    'pre2_ex1_3_st1_3': 1.081,
    'ex1_3_pre2_3': 1.069,
    'pre2_st1_3': 1.064,
    'pre2_ex1_3': 1.063,
    'ex_rank_2': 1.035,
    'st_rank_2_3': 1.034,

    # 3着パターン - 削除候補（的中率が極端に低い）
    'pre3_4_ex2_4': 1.000,    # 1.032 → 1.000 (2.9%的中率、無効化)
    'pre3_ex1_3': 1.031,      # 現状維持（データ不足）
    'outer_st1_2': 1.000,     # 1.022 → 1.000 (0.0%的中率、無効化)
    'pre3_4_ex1_3_st1_3': 1.020,  # 現状維持（データ不足）

    # TOP3パターン
    'pre1_3_st1_3': 1.073,    # 1.130 → 1.073 (-5.0%) [19.8%的中率、過大評価]
    'pre1_3_ex1_3': 1.067,    # 1.123 → 1.067 (-5.0%) [14.7%的中率、過大評価]
    'ex1_3_st1_3': 1.053,     # 1.108 → 1.053 (-5.0%) [13.6%的中率、最多使用だが逆効果]
    'pre1_4_ex1_2': 1.049,    # 1.104 → 1.049 (-5.0%) [27.9%的中率、過大評価]
    'ex_rank_1_2': 1.000,     # 1.051 → 1.000 (0.0%的中率、無効化)
}


def get_optimized_multiplier(pattern_name: str, default_multiplier: float) -> float:
    """
    最適化された倍率を取得

    Args:
        pattern_name: パターン名
        default_multiplier: デフォルト倍率

    Returns:
        最適化された倍率
    """
    return OPTIMIZED_MULTIPLIERS.get(pattern_name, default_multiplier)
