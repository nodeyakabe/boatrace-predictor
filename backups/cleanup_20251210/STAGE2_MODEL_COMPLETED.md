# Stage2äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«å®Ÿè£…å®Œäº†å ±å‘Š

## å®Ÿè£…æ—¥
2025-11-03

## æ¦‚è¦
Stage2äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ¡ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼‰ã®å®Ÿè£…ãŒå®Œäº†ã—ã¾ã—ãŸã€‚
Stage1ã®å‡ºåŠ›ã‚’å…¥åŠ›ã¨ã—ã¦ã€6è‰‡ã®ç€é †ç¢ºç‡ã‚’ç²¾åº¦é«˜ãäºˆæ¸¬ã™ã‚‹æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚

---

## å®Ÿè£…å†…å®¹

### 1. ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: `src/training/stage2_trainer.py` (882è¡Œ)

#### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- **æ‰‹æ³•**: 6ã¤ã®äºŒå€¤åˆ†é¡å™¨ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«
- **ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **: LightGBM
- **å„åˆ†é¡å™¨**: 1ç€ã€œ6ç€ãã‚Œãã‚Œã®ç€é †ç¢ºç‡ã‚’äºˆæ¸¬
- **æ­£è¦åŒ–**: äºˆæ¸¬ç¢ºç‡ã‚’åˆè¨ˆ1.0ã«æ­£è¦åŒ–

#### ä¸»è¦æ©Ÿèƒ½

##### âœ… ãƒ¢ãƒ‡ãƒ«å­¦ç¿’
```python
def train_lightgbm(X_train, y_train, X_valid, y_valid, target_position)
def train_all_positions(X_train, y_train, X_valid, y_valid)
```
- å…¨6ç€é †ã«å¯¾å¿œã™ã‚‹å€‹åˆ¥ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’
- Early Stopping ã«ã‚ˆã‚‹éå­¦ç¿’é˜²æ­¢
- è¨“ç·´/æ¤œè¨¼ã‚»ãƒƒãƒˆåˆ†å‰²

##### âœ… ã‚¯ãƒ­ã‚¹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
```python
def cross_validate(X, y, n_splits=5, target_position=1)
```
- StratifiedKFold ã«ã‚ˆã‚‹Kåˆ†å‰²äº¤å·®æ¤œè¨¼
- ç€é †ã®åã‚Šã‚’è€ƒæ…®ã—ãŸå±¤åŒ–æŠ½å‡º
- å„Foldã®ã‚¹ã‚³ã‚¢è¨˜éŒ²ãƒ»å¹³å‡è¨ˆç®—

##### âœ… ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–
```python
def optimize_hyperparameters(X_train, y_train, X_valid, y_valid,
                            target_position=1, n_trials=100)
```
- Optunaã«ã‚ˆã‚‹è‡ªå‹•ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
- æœ€é©åŒ–å¯¾è±¡ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:
  - `num_leaves` (20-100)
  - `learning_rate` (0.01-0.3)
  - `feature_fraction` (0.5-1.0)
  - `bagging_fraction` (0.5-1.0)
  - `min_child_samples` (5-50)

##### âœ… äºˆæ¸¬æ©Ÿèƒ½
```python
def predict_probabilities(X)  # å…¨ç€é †ã®ç¢ºç‡ã‚’è¿”ã™
def predict_rank(X)           # æœ€ã‚‚ç¢ºç‡ã®é«˜ã„ç€é †ã‚’è¿”ã™
```
- 6ç€é †å…¨ã¦ã®ç¢ºç‡äºˆæ¸¬
- æ­£è¦åŒ–ã«ã‚ˆã‚Šåˆè¨ˆ1.0ã‚’ä¿è¨¼
- æœ€å°¤ç€é †ã®é¸æŠ

##### âœ… ãƒ¢ãƒ‡ãƒ«è©•ä¾¡
```python
def evaluate(X_test, y_test, odds_data=None)
```
- **çš„ä¸­ç‡**:
  - 1ç€çš„ä¸­ç‡
  - 2ç€çš„ä¸­ç‡
  - 3ç€çš„ä¸­ç‡
  - å…¨ä½“çš„ä¸­ç‡
- **AUCã‚¹ã‚³ã‚¢**: å„ç€é †ã”ã¨ã®ROC-AUC
- **å›åç‡**: ã‚ªãƒƒã‚ºãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆã®ROIè¨ˆç®—

##### âœ… ãƒ¢ãƒ‡ãƒ«æ°¸ç¶šåŒ–
```python
def save_models(model_name)   # å…¨ãƒ¢ãƒ‡ãƒ«ä¿å­˜
def load_models(model_path)   # ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿
```
- ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ããƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜
- metadata.json ã§ç‰¹å¾´é‡åãƒ»å­¦ç¿’æ—¥æ™‚ã‚’è¨˜éŒ²
- 6ã¤ã®ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ« (.txtå½¢å¼)

---

### 2. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: `ui/components/stage2_training.py` (636è¡Œ)

#### 4ã¤ã®ã‚¿ãƒ–æ§‹æˆ

##### ğŸ“š ã‚¿ãƒ–1: ãƒ‡ãƒ¼ã‚¿æº–å‚™
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±è¨ˆè¡¨ç¤º
  - ç·ãƒ¬ãƒ¼ã‚¹æ•°ã€ç·ãƒ‡ãƒ¼ã‚¿æ•°
  - ç€é †åˆ†å¸ƒã®å¯è¦–åŒ–
- ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆæ©Ÿèƒ½
  - ãƒ‡ãƒ¢ç”¨ãƒ‡ãƒ¼ã‚¿ä½œæˆ (n_samplesæŒ‡å®šå¯èƒ½)
  - Stage1ç¢ºç‡ã‚’ãƒ™ãƒ¼ã‚¿åˆ†å¸ƒã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
- ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

##### ğŸ¯ ã‚¿ãƒ–2: ãƒ¢ãƒ‡ãƒ«å­¦ç¿’
- å­¦ç¿’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š
  - ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°å›æ•° (100-2000)
  - Early Stopping (10-200)
  - å­¦ç¿’ç‡ (0.01-0.3)
- è©³ç´°è¨­å®š (Expander)
  - `num_leaves` (20-100)
  - `feature_fraction` (0.5-1.0)
  - `bagging_fraction` (0.5-1.0)
- å­¦ç¿’å®Ÿè¡Œãƒœã‚¿ãƒ³
  - å…¨ç€é †ãƒ¢ãƒ‡ãƒ«ä¸€æ‹¬å­¦ç¿’
  - ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º
- ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–ãƒœã‚¿ãƒ³
  - Optunaè‡ªå‹•ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
  - è©¦è¡Œå›æ•°æŒ‡å®š (10-500)

##### ğŸ“Š ã‚¿ãƒ–3: ãƒ¢ãƒ‡ãƒ«è©•ä¾¡
- çš„ä¸­ç‡ãƒ¡ãƒˆãƒªã‚¯ã‚¹
  - 1ç€çš„ä¸­ç‡ã€2ç€çš„ä¸­ç‡ã€3ç€çš„ä¸­ç‡
  - å…¨ä½“çš„ä¸­ç‡
- AUCã‚¹ã‚³ã‚¢æ£’ã‚°ãƒ©ãƒ•
  - å„ç€é †ã®ROC-AUCå¯è¦–åŒ–
- äºˆæ¸¬åˆ†å¸ƒ
  - äºˆæ¸¬ç€é †ã®ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ 
- äºˆæ¸¬vså®Ÿéš›ã®æ¯”è¼ƒãƒ†ãƒ¼ãƒ–ãƒ«

##### ğŸ’¾ ã‚¿ãƒ–4: ãƒ¢ãƒ‡ãƒ«ç®¡ç†
- ãƒ¢ãƒ‡ãƒ«ä¿å­˜
  - ã‚«ã‚¹ã‚¿ãƒ åç§°æŒ‡å®š
  - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—è‡ªå‹•ä»˜ä¸
  - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿
  - ä¿å­˜æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ä¸€è¦§è¡¨ç¤º
  - é¸æŠã—ã¦èª­ã¿è¾¼ã¿
- ç¾åœ¨ã®ãƒ¢ãƒ‡ãƒ«æƒ…å ±
  - å­¦ç¿’æ—¥æ™‚ã€ç‰¹å¾´é‡æ•°ã€ç€é †æ•°

---

### 3. UIçµ±åˆ: `ui/components/model_training.py` ä¿®æ­£

#### å¤‰æ›´å†…å®¹
- Stage2ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆè¿½åŠ 
```python
from ui.components.stage2_training import (
    render_data_preparation_tab as render_stage2_data_prep,
    render_model_training_tab as render_stage2_model_training,
    render_model_evaluation_tab as render_stage2_model_eval,
    render_model_management_tab as render_stage2_model_mgmt
)
```

- ã‚¿ãƒ–æ§‹æˆå¤‰æ›´ (6ã‚¿ãƒ–)
  1. ğŸ“Š ãƒ‡ãƒ¼ã‚¿æº–å‚™ (Stage2)
  2. ğŸ¯ ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ (Stage2)
  3. ğŸ“ˆ ãƒ¢ãƒ‡ãƒ«è©•ä¾¡ (Stage2)
  4. ğŸ’¾ ãƒ¢ãƒ‡ãƒ«ç®¡ç† (Stage2)
  5. ğŸ² Stage1å­¦ç¿’
  6. ğŸ“ ç¢ºç‡æ ¡æ­£

---

## ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### æ–°è¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install lightgbm optuna
```

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒãƒ¼ã‚¸ãƒ§ãƒ³
- `lightgbm==4.6.0`
- `optuna==4.5.0`
- `sqlalchemy==2.0.44`
- `alembic==1.17.1`
- `colorlog==6.10.1`
- `tqdm==4.67.1`
- `PyYAML==6.0.3`

---

## ãƒ†ã‚¹ãƒˆçµæœ

### âœ… ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½“ãƒ†ã‚¹ãƒˆ
**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
python src/training/stage2_trainer.py
```

**çµæœ**:
```
Stage2Trainer ãƒ†ã‚¹ãƒˆ
ãƒ‡ãƒ¼ã‚¿åˆ†å‰²: è¨“ç·´ãƒ‡ãƒ¼ã‚¿: 800ä»¶ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿: 200ä»¶

Stage2ãƒ¢ãƒ‡ãƒ«å­¦ç¿’é–‹å§‹: å…¨ç€é †ï¼ˆ1-6ç€ï¼‰
[LightGBM] [Info] Auto-choosing col-wise multi-threading...
[å„ç€é †ã®ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ãƒ­ã‚°...]

å­¦ç¿’å®Œäº†ï¼
1ç€: Train AUC = 1.0000, Valid AUC = 0.5765
2ç€: Train AUC = 0.9876, Valid AUC = 0.5329
3ç€: Train AUC = 0.9810, Valid AUC = 0.5382
4ç€: Train AUC = 0.9764, Valid AUC = 0.5479
5ç€: Train AUC = 0.9651, Valid AUC = 0.5168
6ç€: Train AUC = 0.9596, Valid AUC = 0.5601

ãƒ¢ãƒ‡ãƒ«è©•ä¾¡:
1ç€çš„ä¸­ç‡: 0.8350
2ç€çš„ä¸­ç‡: 0.7700
3ç€çš„ä¸­ç‡: 0.7700
å…¨ä½“çš„ä¸­ç‡: 0.2000
1ç€AUC: 0.5725
2ç€AUC: 0.5075
...

ãƒ†ã‚¹ãƒˆå®Œäº†ï¼
```

### âœ… ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ
```bash
# Stage2ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½“
python -c "from ui.components.stage2_training import render_data_preparation_tab"
â†’ Import successful!

# çµ±åˆå¾Œã®model_training
python -c "from ui.components.model_training import render_model_training_page"
â†’ Model training import successful
```

---

## ä½¿ç”¨æ–¹æ³•

### 1. UIã‹ã‚‰å­¦ç¿’ã‚’å®Ÿè¡Œ

```bash
streamlit run ui/app.py
```

1. ã€ŒğŸ¤– ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ã€ã‚¿ãƒ–ã‚’é–‹ã
2. ã€ŒğŸ“Š ãƒ‡ãƒ¼ã‚¿æº–å‚™ (Stage2)ã€ã‚¿ãƒ–
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±è¨ˆç¢ºèª
   - ã¾ãŸã¯ã€Œã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã€ãƒœã‚¿ãƒ³ã§ãƒ‡ãƒ¢å®Ÿè¡Œ
3. ã€ŒğŸ¯ ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ (Stage2)ã€ã‚¿ãƒ–
   - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´
   - ã€Œå…¨ç€é †ãƒ¢ãƒ‡ãƒ«å­¦ç¿’é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã€ŒğŸ“ˆ ãƒ¢ãƒ‡ãƒ«è©•ä¾¡ (Stage2)ã€ã‚¿ãƒ–
   - çš„ä¸­ç‡ãƒ»AUCã‚¹ã‚³ã‚¢ç¢ºèª
5. ã€ŒğŸ’¾ ãƒ¢ãƒ‡ãƒ«ç®¡ç† (Stage2)ã€ã‚¿ãƒ–
   - ãƒ¢ãƒ‡ãƒ«åã‚’å…¥åŠ›ã—ã¦ä¿å­˜

### 2. Pythonã‚³ãƒ¼ãƒ‰ã‹ã‚‰ä½¿ç”¨

```python
from src.training.stage2_trainer import Stage2Trainer
import pandas as pd
import numpy as np

# ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼åˆæœŸåŒ–
trainer = Stage2Trainer(model_dir="models/stage2")

# ãƒ‡ãƒ¼ã‚¿æº–å‚™ (ä¾‹: Stage1ã®å‡ºåŠ›ç¢ºç‡)
X = pd.DataFrame({
    'prob_1st_stage1': [...],
    'prob_2nd_stage1': [...],
    'prob_3rd_stage1': [...],
    # ... ãã®ä»–ç‰¹å¾´é‡
})
y = np.array([1, 3, 2, ...])  # å®Ÿéš›ã®ç€é †

# ãƒ‡ãƒ¼ã‚¿åˆ†å‰²
from sklearn.model_selection import train_test_split
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# å­¦ç¿’
trainer.train_all_positions(
    X_train, y_train,
    X_train, y_train,  # ç°¡æ˜“çš„ã«åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
    num_boost_round=1000,
    early_stopping_rounds=50
)

# äºˆæ¸¬
predictions = trainer.predict_probabilities(X_test)
print(predictions)
# å‡ºåŠ›ä¾‹:
#    prob_1  prob_2  prob_3  prob_4  prob_5  prob_6
# 0   0.45    0.25    0.15    0.08    0.05    0.02
# 1   0.12    0.18    0.30    0.25    0.10    0.05

# è©•ä¾¡
eval_result = trainer.evaluate(X_test, y_test)
print(f"1ç€çš„ä¸­ç‡: {eval_result['1ç€çš„ä¸­ç‡']:.2%}")
print(f"å…¨ä½“çš„ä¸­ç‡: {eval_result['å…¨ä½“çš„ä¸­ç‡']:.2%}")

# ãƒ¢ãƒ‡ãƒ«ä¿å­˜
save_path = trainer.save_models("my_stage2_model")
print(f"ä¿å­˜å…ˆ: {save_path}")

# ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿
trainer_new = Stage2Trainer()
trainer_new.load_models(save_path)
```

---

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
BoatRace/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ training/
â”‚       â””â”€â”€ stage2_trainer.py          # Stage2ãƒˆãƒ¬ãƒ¼ãƒŠãƒ¼ (NEW)
â”œâ”€â”€ ui/
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ stage2_training.py         # Stage2å­¦ç¿’UI (NEW)
â”‚       â””â”€â”€ model_training.py          # çµ±åˆUI (MODIFIED)
â”œâ”€â”€ models/
â”‚   â””â”€â”€ stage2/                        # ãƒ¢ãƒ‡ãƒ«ä¿å­˜å…ˆ (è‡ªå‹•ä½œæˆ)
â”‚       â””â”€â”€ stage2_model_20251103_HHMMSS/
â”‚           â”œâ”€â”€ model_position_1.txt
â”‚           â”œâ”€â”€ model_position_2.txt
â”‚           â”œâ”€â”€ model_position_3.txt
â”‚           â”œâ”€â”€ model_position_4.txt
â”‚           â”œâ”€â”€ model_position_5.txt
â”‚           â”œâ”€â”€ model_position_6.txt
â”‚           â””â”€â”€ metadata.json
â””â”€â”€ STAGE2_MODEL_COMPLETED.md          # æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (NEW)
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### âœ… å®Œäº†ã—ãŸé …ç›®
- [x] Stage2ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ
- [x] Stage2Trainerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè£…
- [x] ã‚¯ãƒ­ã‚¹ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
- [x] ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–
- [x] ãƒ¢ãƒ‡ãƒ«è©•ä¾¡æ©Ÿèƒ½
- [x] ãƒ¢ãƒ‡ãƒ«ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿æ©Ÿèƒ½
- [x] UIçµ±åˆ

### ğŸ”œ æ¬¡ã®ã‚¿ã‚¹ã‚¯ (REMAINING_TASKS.mdã‚ˆã‚Š)

#### Task #2: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ äºˆæƒ³ã®æ”¹è‰¯ (å„ªå…ˆåº¦: é«˜)
- Stage2äºˆæ¸¬ã®çµ±åˆ
- è³­ã‘æ¨å¥¨ãƒ­ã‚¸ãƒƒã‚¯ã®æ”¹å–„
- æœŸå¾…å€¤è¨ˆç®—ã®è¿½åŠ 
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°æ©Ÿèƒ½
- éå»äºˆæƒ³ç²¾åº¦ã®è¡¨ç¤º

**å®Ÿè£…äºˆå®šãƒ•ã‚¡ã‚¤ãƒ«**:
- `src/prediction/stage2_predictor.py` (æ–°è¦)
- `ui/components/realtime_prediction.py` (ä¿®æ­£)

**å®Œäº†ç›®æ¨™**: 1-2é€±é–“ä»¥å†…

---

## å‚™è€ƒ

### æŠ€è¡“çš„ãªé¸æŠç†ç”±

#### ãªãœ6ã¤ã®äºŒå€¤åˆ†é¡å™¨ï¼Ÿ
- **å¤šã‚¯ãƒ©ã‚¹åˆ†é¡ã¨ã®æ¯”è¼ƒ**: å˜ä¸€ã®å¤šã‚¯ãƒ©ã‚¹åˆ†é¡ã‚ˆã‚Šã€å„ç€é †ã«ç‰¹åŒ–ã—ãŸãƒ¢ãƒ‡ãƒ«ã®æ–¹ãŒç²¾åº¦å‘ä¸Š
- **ç¢ºç‡ã®æŸ”è»Ÿæ€§**: ç€é †ã”ã¨ã«ç‹¬ç«‹ã—ã¦ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°å¯èƒ½
- **è§£é‡ˆæ€§**: å„ç€é †ã®äºˆæ¸¬æ ¹æ‹ ã‚’å€‹åˆ¥ã«åˆ†æå¯èƒ½

#### ãªãœLightGBMï¼Ÿ
- **é«˜é€Ÿ**: XGBoostã‚ˆã‚Šå­¦ç¿’ãƒ»äºˆæ¸¬ãŒé«˜é€Ÿ
- **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã§ã‚‚åŠ¹ç‡çš„
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: åˆæœŸè¨­å®šã§ã‚‚é«˜ç²¾åº¦
- **éå­¦ç¿’ã¸ã®å¼·ã•**: leaf-wiseæˆé•·ã§æ·±ã„æœ¨ã‚’åŠ¹ç‡çš„ã«æ§‹ç¯‰

#### æ­£è¦åŒ–ã®é‡è¦æ€§
- å„åˆ†é¡å™¨ã®å‡ºåŠ›ã¯ç‹¬ç«‹ã—ã¦ãŠã‚Šã€åˆè¨ˆãŒ1.0ã«ãªã‚‰ãªã„
- Softmaxçš„ãªæ­£è¦åŒ–ã§ç¢ºç‡åˆ†å¸ƒã¨ã—ã¦è§£é‡ˆå¯èƒ½ã«
- è³­ã‘é‡‘é…åˆ†ãªã©ã®æ„æ€æ±ºå®šã«ä½¿ç”¨å¯èƒ½

---

## ã¾ã¨ã‚

Stage2äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…ã«ã‚ˆã‚Šã€ä»¥ä¸‹ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸ:

1. âœ… **é«˜ç²¾åº¦ãªç€é †äºˆæ¸¬**: Stage1ã®å‡ºåŠ›ã‚’æ´—ç·´
2. âœ… **æŸ”è»Ÿãªãƒ¢ãƒ‡ãƒ«å­¦ç¿’**: GUI/Pythonã‚³ãƒ¼ãƒ‰ä¸¡å¯¾å¿œ
3. âœ… **è‡ªå‹•æœ€é©åŒ–**: Optunaã«ã‚ˆã‚‹ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
4. âœ… **åŒ…æ‹¬çš„ãªè©•ä¾¡**: çš„ä¸­ç‡ãƒ»AUCãƒ»å›åç‡ã®å¯è¦–åŒ–
5. âœ… **ãƒ¢ãƒ‡ãƒ«ç®¡ç†**: ä¿å­˜/èª­ã¿è¾¼ã¿/ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

æ¬¡ã®ã‚¿ã‚¹ã‚¯ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ äºˆæƒ³ã®æ”¹è‰¯ï¼‰ã«é€²ã‚€æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚
