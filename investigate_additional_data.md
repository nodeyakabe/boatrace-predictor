# 追加取得可能なデータの調査

## 現在取得しているデータ

### 1. 出走表ページ (racelist)
- ✅ 選手情報（登録番号、氏名、年齢、体重）
- ✅ モーター番号、ボート番号
- ✅ 全国勝率、2連率、3連率
- ✅ 当地勝率、2連率、3連率
- ✅ モーター2連率、3連率
- ✅ ボート2連率、3連率
- ✅ 枠番別成績

### 2. 事前情報ページ (beforeinfo)
- ✅ 展示タイム（6艇）
- ✅ チルト角度（6艇）✨NEW
- ✅ 部品交換情報（6艇）✨NEW
- ❓ プロペラ情報（詳細不明）

### 3. レース結果ページ (raceresult)
- ✅ 着順（6艇）
- ✅ レースタイム
- ✅ 実際の進入コース（6艇）
- ✅ STタイム（実装済み）✨NEW
- ❌ 払戻金（7種類の舟券）
- ❌ 決まり手
- ❌ スタートタイミング詳細
- ✅ 天気情報（気温、風速、風向、水温、波高）

---

## 追加取得可能で有用と思われるデータ

### 🔥 優先度: 高

#### 1. **払戻金データ** (raceresult)
- **取得元**: レース結果ページ
- **内容**: 3連単、3連複、2連単、2連複、拡連複、単勝、複勝
- **用途**:
  - オッズとの比較で人気度を分析
  - 高配当レースの特徴抽出
  - 期待値計算
- **実装難易度**: 低

#### 2. **決まり手** (raceresult)
- **取得元**: レース結果ページ
- **内容**: 逃げ、差し、まくり、まくり差し、抜き、恵まれ
- **用途**:
  - 選手の得意な戦法分析
  - コース別の決まり手傾向
  - スタート力との相関分析
- **実装難易度**: 低

#### 3. **オッズ情報** (odds3t, odds3f, odds2t, etc.)
- **取得元**: オッズページ
- **内容**: 締切直前の3連単、3連複、2連単等のオッズ
- **用途**:
  - 人気と実力のギャップ分析
  - 期待値の高い買い目発見
  - 予想の信頼度評価
- **実装難易度**: 中（複数ページ）

#### 4. **スタートタイミング詳細** (raceresult)
- **取得元**: レース結果ページ（スタート情報テーブル）
- **内容**: F（フライング）、L（出遅れ）の詳細情報
- **用途**:
  - スタート力の正確な評価
  - F・L傾向の分析
- **実装難易度**: 低（STタイムと同じテーブル）

---

### 🟡 優先度: 中

#### 5. **直近成績・節間成績** (racelist)
- **取得元**: 出走表ページ（詳細部分）
- **内容**:
  - 直近の着順履歴
  - 今節での成績
- **用途**:
  - 調子の良し悪しを判断
  - 連続入着の選手を評価
- **実装難易度**: 中（詳細エリアの展開が必要な可能性）

#### 6. **モーター成績の詳細** (racelist)
- **取得元**: 出走表ページ
- **内容**: モーターの勝率、使用回数
- **用途**:
  - 機力の正確な評価
  - 新品モーターと調整済みモーターの区別
- **実装難易度**: 低〜中

#### 7. **コンピューター予想** (pcexpect)
- **取得元**: コンピューター予想ページ
- **内容**: 公式AIの予想印（◎○△等）
- **用途**:
  - 公式予想との比較
  - アンサンブル学習の一要素
- **実装難易度**: 低

#### 8. **展示航走の内容詳細** (beforeinfo)
- **取得元**: 事前情報ページ
- **内容**:
  - 周回展示の評価
  - ターンマーク到達順
- **用途**:
  - モーター性能の詳細評価
  - ターン性能の分析
- **実装難易度**: 中

---

### 🟢 優先度: 低（データ量大 or 効果不明）

#### 9. **選手の詳細プロフィール** (racersearch)
- **取得元**: レーサー検索ページ
- **内容**:
  - 過去全成績
  - 級別（A1, A2, B1, B2）
  - 出身地、身長
- **用途**:
  - 選手の実力を多角的に評価
- **実装難易度**: 高（個別ページへのアクセス必要）
- **問題**: データ量が膨大、取得時間がかかる

#### 10. **ピットレポート** (pitreport)
- **取得元**: ピットレポートページ
- **内容**: レース前の選手コメント、調整内容
- **用途**:
  - 自信度の評価
  - テキストマイニング
- **実装難易度**: 中
- **問題**: テキストデータの数値化が困難

#### 11. **過去対戦成績**
- **取得元**: 要調査
- **内容**: 選手同士の対戦履歴
- **用途**:
  - 相性の分析
- **実装難易度**: 高
- **問題**: 取得元が不明確

---

## 推奨実装順序

### フェーズ1: 即効性の高い追加データ（1〜2時間）
1. **払戻金データ** - 期待値計算に必須
2. **決まり手** - 選手の戦法分析
3. **スタートタイミング詳細** - F/Lの情報

### フェーズ2: 予測精度向上データ（2〜3時間）
4. **オッズ情報** - 人気との乖離を分析
5. **コンピューター予想** - 公式予想の活用

### フェーズ3: 詳細分析データ（検討中）
6. **直近成績**
7. **展示航走の詳細**

---

## 現在のデータで予測可能な要素

すでに取得しているデータで以下の予測が可能：

✅ **スタート力**: STタイム、展示タイム
✅ **機力**: モーター2連率、3連率、部品交換
✅ **選手の実力**: 勝率、2連率、3連率
✅ **調整**: チルト角度
✅ **進入**: 実際の進入コース
✅ **環境**: 気温、風速、風向、水温、波高

これらのデータでも十分に予測モデルは構築可能です。

---

## 次のアクション

1. ユーザーに優先度を確認
2. 払戻金・決まり手・スタート詳細を実装（即効性高）
3. オッズ取得を検討（複数ページアクセスが必要）
